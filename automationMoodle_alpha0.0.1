import time
import tkinter as tk
from selenium import webdriver
from selenium.webdriver.common.by import By
from tkinter import *

driver = webdriver.Chrome()

def login(username, password):
    # selenium code to open the window and
    driver.get("http://moodle.mitsgwalior.in/login/index.php")
    driver.maximize_window()
    driver.find_element(By.ID, "username").send_keys(username)
    driver.find_element(By.ID, "password").send_keys(password)
    driver.find_element(By.ID, "loginbtn").click()
    win.destroy()


def teachers(teachnames):
    print(teachnames)
    if teachnames.lower() == "dkj":
        driver.get("http://moodle.mitsgwalior.in/course/view.php?id=344")

    elif teachnames.lower() == "aso":
        driver.get("http://moodle.mitsgwalior.in/course/view.php?id=355")

    elif teachnames.lower() == "psharma":
        driver.get("http://moodle.mitsgwalior.in/course/view.php?id=366")

    elif teachnames.lower() == "sk":
        driver.get("http://moodle.mitsgwalior.in/course/view.php?id=530")

    elif teachnames.lower() == "ashish":
        driver.get("http://moodle.mitsgwalior.in/course/view.php?id=771")

    elif teachnames.lower() == "vs":
        driver.get("http://moodle.mitsgwalior.in/course/view.php?id=724")

    
win = Tk()

#customization of the tkinter window
win.title("Moodle Automation")
win.geometry("400x350")
win.maxsize(500 ,500)
win.config(bg="lightgrey")


enter_info = Label(win, text="Moodle Automation", bg="lightgrey" , font=("Arial" , 14))
enter_info.grid(row=0, column=1, rowspan = 1 , columnspan=4, padx=5, pady=5)

enter_info = Label(win, text="version = 0.1.1", bg="lightgrey" )
enter_info.grid(row=1, column=1, rowspan = 1 , columnspan=4, padx=5, pady=5)

Label(win , text = "Username").grid(row=2)
Label(win , text = "Password").grid(row=3)

#userinput and password
userinput = Entry(win , width=35)
password = Entry(win, width=35,show="*")

userinput.grid(row=2 , column = 2 , padx = 20 ,pady=20)
password.grid(row=3,column=2 , padx = 20 , pady= 20)


#Button which says Click Here
tk.Button(win, text="Click Here to Start", command=lambda: login(userinput.get(), password.get())).grid(row =4 ,column =2 ,sticky=tk.W ,pady = 25 , padx=25)

win.mainloop()


root = Tk()
root.geometry("500x500")

#heading
canvas = Canvas(root)
canvas.create_text(200, 200, text="Moodle Automation", fill="black", font=('Helvetica 15 bold'))
canvas.create_text(200, 250, text="Who's page do you want to access?", fill="black")
canvas.create_text(200, 220, text="Version: 0.0.1", fill="black", font=('Helvetica 10 bold'))
canvas.pack()

#For entering a text
teachername = Entry(root)
teachername.pack()

#Button which says Click Here
button = Button(root, text="Click Here", command=lambda: teachers(teachername.get()))
button.pack()
root.mainloop()




time.sleep(5000)
